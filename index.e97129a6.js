function e(e,n,t,s){Object.defineProperty(e,n,{get:t,set:s,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},a=n.parcelRequire779d;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){s[e]=n},n.parcelRequire779d=a),a.register("27Lyk",(function(n,t){var s,a;e(n.exports,"register",(()=>s),(e=>s=e)),e(n.exports,"resolve",(()=>a),(e=>a=e));var r={};s=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)r[n[t]]=e[n[t]]},a=function(e){var n=r[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),a.register("a1L0z",(function(e,n){e.exports=new URL(a("27Lyk").resolve("cypst"),import.meta.url).toString()})),a.register("8Hnd4",(function(e,n){e.exports=new URL(a("27Lyk").resolve("bDHyn"),import.meta.url).toString()})),a.register("iynCC",(function(e,n){e.exports=new URL(a("27Lyk").resolve("7jfBT"),import.meta.url).toString()})),a("27Lyk").register(JSON.parse('{"dZpbI":"index.e97129a6.js","cypst":"rock.28c1bba6.svg","bDHyn":"paper.e7dca706.svg","7jfBT":"scissors.188fc6be.svg"}'));const r={data:{machine:0,user:0},currentPlay:{machine:0,user:0,match:""},listeners:[],init(){const e=localStorage.getItem("state");null==e?console.log("No stored data to render..."):this.setState(JSON.parse(e))},getState(){return this.data},setState(e){console.log("STATE RECIEVED ==>| ",e),this.data=e,localStorage.setItem("state",JSON.stringify(e));for(const e of this.listeners)e()},subscribe(e){console.log(`CALLBACK SUBSCRIBED ==>| ${e}`),this.listeners.push(e)},updateScore(e,n,t){const s=this.getState();"draw"==e?(s.machine++,s.user++):"user-wins"==e?s.user++:"machine-wins"==e&&s.machine++,this.currentPlay={machine:n,user:t,match:e},this.setState(s)}};const o=[{path:/\/welcome/,handler:function(e,n){r.init(),e.innerHTML='\n        <div class="welcome-page">\n            <text-el type="1" class="title">Piedra Papel <span class="transparent-character">ó</span> Tijera</text-el>\n\n            <button-el type="1" class="start-btn"></button-el>\n\n            <div class="welcome-hands">\n                <hand-el type="scrissors"></hand-el>\n                <hand-el type="rock"></hand-el>\n                <hand-el type="paper"></hand-el>\n            </div>\n        </div>\n    ',e.querySelector(".start-btn").addEventListener("click",(()=>n("/play")))}},{path:/\/play/,handler:function(e,n){e.innerHTML='\n        <div class="play-page">\n            <text-el type="2" class="instructions">Presioná jugar y elegí: piedra, papel ó tijera antes de que pasen los tres segundos.</text-el>\n\n            <button-el type="2" class="play-btn"></button-el>\n\n            <div class="play-hands">\n                <hand-el type="scrissors"></hand-el>\n                <hand-el type="rock"></hand-el>\n                <hand-el type="paper"></hand-el>\n            </div>\n        </div>\n    ',e.querySelector(".play-btn").addEventListener("click",(()=>n("/counter")))}},{path:/\/counter/,handler:function(e,n){e.innerHTML='\n        <div class="counter-page">\n\n            <div class="counter">\n            </div>\n\n            <div class="counter-hands">\n                <hand-el class="counter-hand" type="scissors"></hand-el>\n                <hand-el class="counter-hand" type="rock"></hand-el>\n                <hand-el class="counter-hand" type="paper"></hand-el>\n            </div>            \n        </div>\n    ';const t=e.querySelector(".counter"),s=e.querySelectorAll(".counter-hand");let a;function o(e){const t=Math.round(2*Math.random()+1);t==e?(console.log(`Máquina ${t} | Usuario ${e}`),r.updateScore("draw",t,e)):1==t&&2==e||2==t&&3==e||3==t&&1==e?(console.log(`Máquina ${t} | Usuario ${e}`),r.updateScore("user-wins",t,e)):(console.log(`Máquina ${t} | Usuario ${e}`),r.updateScore("machine-wins",t,e)),clearInterval(a),n("/game")}!function(e){let s=e;t.innerHTML=`<counter-el>${s}</counter-el>`,a=setInterval((()=>{s--,t.innerHTML=`<counter-el>${s}</counter-el>`,s<1&&(clearInterval(a),n("/play"))}),1e3)}(3),s.forEach((e=>{e.addEventListener("click",(()=>{const n=e.getAttribute("type");o("rock"==n?1:"paper"==n?2:3)}))}))}},{path:/\/game/,handler:function(e,n){r.subscribe((()=>{return t=r.currentPlay.machine,s=r.currentPlay.user,e.innerHTML=`\n            <div class="game-page">\n                <div class="machine-hand">\n                    <hand-el type="${1==t?"rock":2==t?"paper":"scissors"}"></hand-el>                \n                </div>\n                <div class="user-hand">\n                    <hand-el type="${1==s?"rock":2==s?"paper":"scissors"}"></hand-el>\n                </div>\n            </div>\n        `,void setTimeout((()=>n("/result")),3e3);var t,s}))}},{path:/\/result/,handler:function(e,n){const t=r.currentPlay.match,s=r.getState();console.log("CURRENT STATE DE RESULT",s),e.innerHTML=`\n        <div class="result result-${t}">\n            <h1 class="result-title result-title-${t}">${"draw"==t?"Empate":"user-wins"==t?"Ganaste":"Perdiste"}</h1>\n\n            <div class="score">\n                <h2 class="score-title">Score</h2>\n                <p class="score-text">Vos: ${s.user}</p>\n                <p class="score-text">Máquina: ${s.machine}</p>\n            </div>\n\n            <button-el type="3" class="playagain-btn"></button-el>\n        </div>\n    `,e.querySelector(".playagain-btn").addEventListener("click",(()=>{n("/play")}))}}];(function(e){function n(e){history.pushState({},"",e),t(e)}function t(t){console.log(`handleRoute --\x3e| ${t} |<--`);for(const s of o)s.path.test(t)&&s.handler(e,n)}"/"==location.pathname?n("/welcome"):t(location.pathname),window.onpopstate=()=>t(location.pathname)})(document.querySelector(".root")),function(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super()}connectedCallback(){this.render()}render(){const e=document.createElement("style"),n=this.getAttribute("type");e.innerHTML="\n                * {\n                    box-sizing: border-box;\n                }\n\n                .button {\n                    margin: 0;\n                    width: 330px;\n                    height: 90px;\n                    background-color: #006CFC;\n                    color: white;\n                    font-family: 'Odibee Sans', cursive;\n                    font-size: 45px;\n                    border: 10px solid #001997;\n                    border-radius: 10px;\n                    line-height: 49.86px;\n                }\n            ",this.shadow.innerHTML=`\n                <button class="button">${"1"==n?"Empezar":"2"==n?"Jugar":"Volver a Jugar"}</button>\n            `,this.shadow.appendChild(e)}}customElements.define("button-el",e)}(),function(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super()}connectedCallback(){this.render()}render(){const e=document.createElement("style"),n=this.getAttribute("type"),t=this.innerHTML;e.innerHTML="\n                * {\n                    font-family: 'Zilla Slab', serif;\n                    margin: 0;\n                    padding: 0;\n                    box-sizing: border-box;\n                }\n\n                .title {\n                    width: 330px;\n                    color: #009048;\n                    font-size: 80px;\n                    font-weight: 700;\n                }\n\n                    .transparent-character {\n                        color: #91CCAF;\n                    }\n\n                .instructions {\n                    width: 330px;\n                    height: 100%;\n                    font-size: 40px;\n                    font-weight: 700;\n                }\n            ",this.shadow.innerHTML=`\n                ${"1"==n?`<h1 class="title">${t}</h1>`:`<p class="instructions">${t}</p>`}\n            `,this.shadow.appendChild(e)}}customElements.define("text-el",e)}(),function(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super()}connectedCallback(){this.render()}render(){const e=document.createElement("style"),n=this.getAttribute("type"),t=a("a1L0z"),s=a("8Hnd4"),r=a("iynCC");e.innerHTML=""+("/game"!=location.pathname?"\n\n                * {\n                    margin: 0;\n                    padding: 0;\n                    box-sizing: border-box;\n                }\n\n                .hand {\n                    height: 100%;\n                }\n            ":""),this.shadow.innerHTML=""+("rock"==n?`<img class="hand" src="${t}">`:"paper"==n?`<img class="hand" src="${s}">`:`<img class="hand" src="${r}">`),this.shadow.appendChild(e)}}customElements.define("hand-el",e)}(),function(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super()}connectedCallback(){this.render()}render(){const e=document.createElement("style"),n=this.textContent;e.innerHTML="\n                * {\n                    margin: 0;\n                    padding: 0;\n                    box-sizing: border-box;\n                    font-family: 'Zilla Slab', serif;\n                }\n\n                .number {\n                    font-size: 216px;\n                }\n            ",this.shadow.innerHTML=`<p class="number">${n}</p>`,this.shadow.appendChild(e)}}customElements.define("counter-el",e)}();
//# sourceMappingURL=index.e97129a6.js.map
